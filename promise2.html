<!doctype html>
<html lang="en">
	<head>
	    <!-- Required meta tags -->
	    <meta charset="utf-8">
	    <meta name="viewport" content="width=device-width, initial-scale=1">

	    <!-- Bootstrap CSS -->
	    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
	    

	    <link rel="stylesheet" type="text/css" href="promise2.css">

		<title>task promise</title>
	</head>

<body>
	
	<nav class="navbar navbar-expand-lg navbar-dark bg-warning">
	  <div class="container-fluid">
	    <a class="navbar-brand" href="#">Navbar</a>
	    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
	      <span class="navbar-toggler-icon"></span>
	    </button>
	    <div class="collapse navbar-collapse" id="navbarNav">
	      <ul class="navbar-nav">
	        <li class="nav-item">
	          <a class="nav-link active" aria-current="page" href="#">Home</a>
	        </li>
	        <li class="nav-item">
	          <a class="nav-link" href="#">Features</a>
	        </li>
	        <li class="nav-item">
	          <a class="nav-link" href="#">Pricing</a>
	        </li>
	        <li class="nav-item">
	          <a class="nav-link disabled">Disabled</a>
	        </li>
	      </ul>
	    </div>
	  </div>
	</nav>


<div class="container-fluid">
	<form class="search" style="margin-top: 20px">
			<label for="">News</label>
		<input type="text" class="input" >
		<input type="submit">
	</form>


	<div class="row">
		<div class="col-md-4 my-5">
			<div class="card">
				<img src="..." class="card-img-top">
				<div class="card-body">
					<h5 class="card-title">Judul Berita</h5>
				    <h6 class="card-subtitle mb-2 text-muted">penulis dan tanggal release</h6>
				    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
				    <a href="#" class="btn btn-primary">Read more..</a>
				</div>
			</div>
		</div>
	</div>

	<div class="container">
		<ul class="news-list"></ul>
		
	</div>
</div>



	<script>
		const searchForm = document.querySelector('.search');
		const input = document.querySelector('.input');
		const newsList = document.querySelector('.news-list');

		searchForm.addEventListener('submit', retrieve)

		function retrieve(e){

			if (input.value == ''){
				alert('input field is empty')
				return
			}

			newsList.innerHTML = ''
			e.preventDefault()

			const apiKey = '5ddcbb6048054629b9658538303fafa6'
			
			let topic = input.value;
			let url = `https://newsapi.org/v2/everything?q=${topic}&apiKey=${apiKey}`

			fetch(url).then ((res) => {
				return res.json()
			})
				.then((data) => {
					console.log(data)
					data.articles.forEach(article => {
						let li = document.createElement('li');
						let a = document.createElement('a');
						a.setAttribute('href', article.url);
						a.setAttribute('target', '_blank');
						a.textContent = article.title;
						li.appendChild(a);
						newsList.appendChild(li)
						})
					
				})
				.catch((error) => {
					console.log(error)
				})

			
		}

	</script>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<script type="text/javascript">
	//link API valid
	// https://newsapi.org/v2/everything?q=Apple&from=2022-01-16&sortBy=popularity&apiKey=5ddcbb6048054629b9658538303fafa6
	// link api headline news
	// https://newsapi.org/v2/top-headlines?country=us&apiKey=5ddcbb6048054629b9658538303fafa6
</script>
</body>
</html>


<!-- 
	1. Membuat bagian head bar bagian atas
	2. Membuat bagian searh (div container)
	3. Membuat bagian tampilan berita (div container)